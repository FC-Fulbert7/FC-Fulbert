RewriteEngine On

# Forcer HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redirection de GitHub Pages vers le domaine principal
RewriteCond %{HTTP_HOST} ^fc-fulbert7\.github\.io$ [OR]
RewriteCond %{HTTP_HOST} ^www\.fc-fulbert7\.github\.io$ [OR]
RewriteCond %{HTTP_HOST} ^fc-fulbert\.github\.io$ [OR]
RewriteCond %{HTTP_HOST} ^www\.fc-fulbert\.github\.io$
RewriteRule ^(.*)$ https://fc-fulbert.site/$1 [L,R=301]

# Redirection du www vers non-www
RewriteCond %{HTTP_HOST} ^www\.fc-fulbert\.site$ [NC]
RewriteRule ^(.*)$ https://fc-fulbert.site/$1 [L,R=301]

# Redirection de toutes les autres versions vers le domaine principal
RewriteCond %{HTTP_HOST} !^fc-fulbert\.site$ [NC]
RewriteRule ^(.*)$ https://fc-fulbert.site/$1 [L,R=301]

# Redirection du classement
RewriteRule ^classement\.html$ /tableau-classement [R=301,L]

# Redirection des événements
RewriteRule ^events/evt-2025-09-21-seniors-win\.html$ /actualites/2025/09/victoire-seniors-3-1 [R=301,L]
RewriteRule ^events/evt-2025-10-12-u15\.html$ /actualites/2025/10/tournoi-u15 [R=301,L]

# Ensure trailing slash
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !(.*)/$
RewriteRule ^(.*)$ /$1/ [L,R=301]